# Enable Powerlevel10k
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# Set ZSH theme
ZSH_THEME="powerlevel10k/powerlevel10k"

# Platform-specific configurations
{{- if .is_darwin }}
# macOS specific settings
export PATH="/opt/homebrew/bin:$PATH"
eval "$(/opt/homebrew/bin/brew shellenv)"
{{- end }}

{{- if .is_linux }}
# Linux specific settings
{{- if lookPath "paru" }}
alias update='paru -Syu'
{{- else if lookPath "pacman" }}
alias update='sudo pacman -Syu'
{{- else if lookPath "apt" }}
alias update='sudo apt update && sudo apt upgrade'
{{- end }}
{{- end }}

# Common configurations
alias ll='ls -la'
alias ..='cd ..'

# Load local customizations if they exist
if [ -f ~/.zshrc.local ]; then
    source ~/.zshrc.local
fi
